<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - Ezchain Blockchain</title>
    <link rel="stylesheet" href="static/css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>Ezchain</h2>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="features.html" class="nav-link">Features</a></li>
                <li><a href="architecture.html" class="nav-link">Architecture</a></li>
                <li><a href="demo.html" class="nav-link">Demo</a></li>
                <li><a href="documentation.html" class="nav-link">Documentation</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
            </ul>
            <div class="nav-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <main>
        <div class="page-header">
            <div class="container">
                <h1>Documentation</h1>
                <p>Complete guide to understanding and using Ezchain blockchain</p>
            </div>
        </div>

        <section class="documentation">
            <div class="container">
                <div class="doc-content">
                    <div class="doc-sidebar">
                        <h3>Table of Contents</h3>
                        <ul>
                            <li><a href="#getting-started">Getting Started</a></li>
                            <li><a href="#installation">Installation</a></li>
                            <li><a href="#configuration">Configuration</a></li>
                            <li><a href="#api-reference">API Reference</a></li>
                            <li><a href="#tutorials">Tutorials</a></li>
                            <li><a href="#troubleshooting">Troubleshooting</a></li>
                        </ul>
                    </div>

                    <div class="doc-main">
                        <div class="doc-section" id="getting-started">
                            <h2>Getting Started</h2>
                            <p>
                                Welcome to Ezchain! This guide will help you understand the basics of our 
                                revolutionary blockchain system and get you up and running quickly.
                            </p>
                            
                            <h3>What is Ezchain?</h3>
                            <p>
                                Ezchain is a decentralized scale-out blockchain ledger system designed for Web3.0. 
                                It addresses the scalability trilemma by introducing a novel architecture that 
                                enables linear scalability with network size.
                            </p>

                            <h3>Key Concepts</h3>
                            <ul>
                                <li><strong>Scale-out Architecture:</strong> Performance scales linearly with node count</li>
                                <li><strong>Multi-node System:</strong> Different node types with specialized roles</li>
                                <li><strong>Fast Consensus:</strong> Transaction confirmation within one minute</li>
                                <li><strong>Hardware Efficient:</strong> Designed for consumer-grade hardware</li>
                            </ul>

                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                <strong>Note:</strong> Ezchain is built with Python and is designed to be 
                                accessible for developers and researchers.
                            </div>
                        </div>

                        <div class="doc-section" id="installation">
                            <h2>Installation</h2>
                            
                            <h3>Prerequisites</h3>
                            <div class="code-block">
                                <pre><code># Python 3.8 or higher
python --version

# pip package manager
pip --version</code></pre>
                            </div>

                            <h3>Clone the Repository</h3>
                            <div class="code-block">
                                <pre><code>git clone https://github.com/Re20Cboy/Ezchain-py.git
cd Ezchain-py</code></pre>
                            </div>

                            <h3>Install Dependencies</h3>
                            <div class="code-block">
                                <pre><code>pip install -r requirements.txt</code></pre>
                            </div>

                            <h3>Verify Installation</h3>
                            <div class="code-block">
                                <pre><code>python -c "import Ezchain_simulate; print('Ezchain installed successfully!')"</code></pre>
                            </div>
                        </div>

                        <div class="doc-section" id="configuration">
                            <h2>Configuration</h2>
                            
                            <h3>System Configuration</h3>
                            <p>Ezchain uses a configuration file to set up various parameters:</p>
                            
                            <div class="config-grid">
                                <div class="config-item">
                                    <h4><code>NODE_NUM</code></h4>
                                    <p>Number of nodes in the network (default: 5)</p>
                                </div>
                                <div class="config-item">
                                    <h4><code>ACCOUNT_NUM</code></h4>
                                    <p>Number of accounts to generate (default: 10)</p>
                                </div>
                                <div class="config-item">
                                    <h4><code>HASH_DIFFICULTY</code></h4>
                                    <p>Mining difficulty level (default: 4)</p>
                                </div>
                                <div class="config-item">
                                    <h4><code>SIMULATE_ROUND</code></h4>
                                    <p>Number of simulation rounds (default: 100)</p>
                                </div>
                                <div class="config-item">
                                    <h4><code>PICK_TXNS_NUM</code></h4>
                                    <p>Number of transactions per round (default: 5)</p>
                                </div>
                                <div class="config-item">
                                    <h4><code>HASH_POWER</code></h4>
                                    <p>Base hash power for nodes (default: 1000)</p>
                                </div>
                            </div>

                            <h3>Custom Configuration Example</h3>
                            <div class="code-block">
                                <pre><code># Create a custom config file
# config.py

NODE_NUM = 10
ACCOUNT_NUM = 20
HASH_DIFFICULTY = 6
SIMULATE_ROUND = 200
PICK_TXNS_NUM = 10
HASH_POWER = 1500</code></pre>
                            </div>
                        </div>

                        <div class="doc-section" id="api-reference">
                            <h2>API Reference</h2>
                            
                            <h3>Core Classes</h3>
                            
                            <h4>EZsimulate</h4>
                            <p>Main simulation class for the blockchain system.</p>
                            <div class="code-block">
                                <pre><code>from Ezchain_simulate import EZsimulate

# Create simulator instance
simulator = EZsimulate()

# Initialize simulation
simulator.random_generate_nodes(node_num=5)
simulator.random_generate_accounts(account_num=10)
simulator.init_network()
simulator.generate_GenesisBlock()</code></pre>
                            </div>

                            <h4>Block Class</h4>
                            <p>Represents a single block in the blockchain.</p>
                            <div class="code-block">
                                <pre><code>from block import Block

# Block methods
block.get_index()           # Get block index
block.get_hash()            # Get block hash
block.get_pre_hash()        # Get previous block hash
block.calculate_hash()      # Calculate block hash
block.verify_block()        # Verify block integrity</code></pre>
                            </div>

                            <h4>Transaction Class</h4>
                            <p>Represents a transaction between accounts.</p>
                            <div class="code-block">
                                <pre><code>from transaction import Transaction
from unit import Value

# Create value object
value = Value(beginIndex='0x777...', valueNum=100)

# Create transaction
tx = Transaction(
    sender='account_0',
    recipient='account_1',
    nonce=0,
    signature=None,
    value=value,
    tx_hash=0,
    time=datetime.now()
)

# Sign transaction
tx.sig_txn(private_key)</code></pre>
                            </div>

                            <h3>Web API</h3>
                            <p>The web interface provides RESTful API endpoints:</p>
                            
                            <div class="api-endpoints">
                                <div class="endpoint">
                                    <h4><code>POST /api/blockchain/init</code></h4>
                                    <p>Initialize the blockchain system</p>
                                </div>
                                <div class="endpoint">
                                    <h4><code>GET /api/blockchain/stats</code></h4>
                                    <p>Get blockchain statistics</p>
                                </div>
                                <div class="endpoint">
                                    <h4><code>GET /api/blockchain/blocks</code></h4>
                                    <p>Get list of blocks</p>
                                </div>
                                <div class="endpoint">
                                    <h4><code>POST /api/mining/start</code></h4>
                                    <p>Start mining process</p>
                                </div>
                                <div class="endpoint">
                                    <h4><code>POST /api/mining/stop</code></h4>
                                    <p>Stop mining process</p>
                                </div>
                                <div class="endpoint">
                                    <h4><code>POST /api/transaction/create</code></h4>
                                    <p>Create new transaction</p>
                                </div>
                                <div class="endpoint">
                                    <h4><code>GET /api/transactions</code></h4>
                                    <p>Get transaction list</p>
                                </div>
                            </div>
                        </div>

                        <div class="doc-section" id="tutorials">
                            <h2>Tutorials</h2>
                            
                            <h3>Basic Tutorial: Running Your First Simulation</h3>
                            
                            <h4>Step 1: Initialize the Blockchain</h4>
                            <div class="code-block">
                                <pre><code>import Ezchain_simulate
import block
import blockchain
import transaction
import node
import account
from const import *

# Create simulator
simulator = Ezchain_simulate.EZsimulate()

# Set parameters
simulator.nodeNum = NODE_NUM
simulator.accounts = []
simulator.nodeList = []
simulator.hashPower = []
simulator.current_round = 0

# Generate nodes and accounts
simulator.random_generate_nodes(NODE_NUM)
simulator.random_generate_accounts(ACCOUNT_NUM)

# Initialize network
simulator.init_network()

# Generate genesis block
simulator.generate_GenesisBlock()

print("Blockchain initialized successfully!")</code></pre>
                            </div>

                            <h4>Step 2: Start Mining</h4>
                            <div class="code-block">
                                <pre><code># Run simulation for specified rounds
for round_num in range(SIMULATE_ROUND):
    # Generate transactions
    account_txns, _ = simulator.random_generate_AccTxns(PICK_TXNS_NUM)
    
    # Add transactions to pool
    simulator.txnsPool.freshPool(simulator.accounts, account_txns)
    
    # Generate block body
    block_body = simulator.generate_block_body()
    
    # Simulate mining delay
    time.sleep(HASH_DIFFICULTY * 0.1)
    
    # Select miner and create block
    miner_index = round_num % len(simulator.nodeList)
    miner_node = simulator.nodeList[miner_index]
    
    miner_node.tmpBlockBodyMsg = block_body
    miner_node.create_new_block()
    
    # Broadcast block
    for node in simulator.nodeList:
        if node.id != miner_index:
            node.blockchain.add_block(miner_node.tmpBlockMsg.block)
    
    # Clear transaction pool
    simulator.txnsPool.clearPool()
    
    # Update accounts
    for acc in simulator.accounts:
        acc.clear_and_fresh_info()
    
    print(f"Round {round_num + 1} completed")

print("Simulation completed!")</code></pre>
                            </div>

                            <h3>Advanced Tutorial: Custom Transaction Creation</h3>
                            
                            <div class="code-block">
                                <pre><code>from transaction import Transaction
from unit import Value
from datetime import datetime
import crypto_utils

def create_custom_transaction(sender_account, recipient_account, amount):
    """Create a custom transaction between accounts"""
    
    # Verify sender has sufficient balance
    if sender_account.balance < amount:
        raise ValueError("Insufficient balance")
    
    # Create value object
    v_genesis_begin = '0x77777777777777777777777777777777777777777777777777777777777777777'
    V = unit.Value(beginIndex=v_genesis_begin, valueNum=amount)
    
    # Create transaction
    tx = transaction.Transaction(
        sender=sender_account.addr,
        recipient=recipient_account.addr,
        nonce=len(sender_account.accTxns),
        signature=None,
        value=V,
        tx_hash=0,
        time=datetime.now()
    )
    
    # Sign transaction
    tx.sig_txn(sender_account.privateKey)
    
    # Add to sender's transaction list
    sender_account.accTxns.append(tx)
    
    # Update balances
    sender_account.balance -= amount
    recipient_account.balance += amount
    
    return tx

# Usage example
sender = simulator.accounts[0]
recipient = simulator.accounts[1]
amount = 50

try:
    tx = create_custom_transaction(sender, recipient, amount)
    print(f"Transaction created: {tx.txHash}")
except ValueError as e:
    print(f"Error: {e}")</code></pre>
                            </div>

                            <h3>Web Interface Tutorial</h3>
                            
                            <h4>Starting the Web Server</h4>
                            <div class="code-block">
                                <pre><code># Start the Flask web application
python app.py

# The server will start on http://localhost:5002</code></pre>
                            </div>

                            <h4>Using the Web Interface</h4>
                            <ol>
                                <li>Open your browser and navigate to <code>http://localhost:5002</code></li>
                                <li>Click "Initialize Blockchain" to set up the network</li>
                                <li>Use "Start Mining" to begin the mining process</li>
                                <li>Create transactions using the transaction form</li>
                                <li>Monitor real-time statistics and blockchain data</li>
                            </ol>
                        </div>

                        <div class="doc-section" id="troubleshooting">
                            <h2>Troubleshooting</h2>
                            
                            <h3>Common Issues</h3>
                            
                            <div class="issue-card">
                                <h4><i class="fas fa-exclamation-triangle"></i> Import Errors</h4>
                                <p><strong>Problem:</strong> Module not found errors when importing Ezchain modules</p>
                                <p><strong>Solution:</strong> Ensure you're in the correct directory and all dependencies are installed:</p>
                                <div class="code-block">
                                    <pre><code>cd Ezchain-py
pip install -r requirements.txt
export PYTHONPATH=$PYTHONPATH:$(pwd)</code></pre>
                                </div>
                            </div>

                            <div class="issue-card">
                                <h4><i class="fas fa-exclamation-triangle"></i> Mining Too Slow</h4>
                                <p><strong>Problem:</strong> Mining process is taking too long</p>
                                <p><strong>Solution:</strong> Reduce the hash difficulty in configuration:</p>
                                <div class="code-block">
                                    <pre><code># In const.py or your config file
HASH_DIFFICULTY = 2  # Reduce from default 4</code></pre>
                                </div>
                            </div>

                            <div class="issue-card">
                                <h4><i class="fas fa-exclamation-triangle"></i> Memory Issues</h4>
                                <p><strong>Problem:</strong> Running out of memory with large simulations</p>
                                <p><strong>Solution:</strong> Reduce simulation parameters:</p>
                                <div class="code-block">
                                    <pre><code>NODE_NUM = 3
ACCOUNT_NUM = 5
SIMULATE_ROUND = 50</code></pre>
                                </div>
                            </div>

                            <div class="issue-card">
                                <h4><i class="fas fa-exclamation-triangle"></i> Web Server Won't Start</h4>
                                <p><strong>Problem:</strong> Flask application fails to start</p>
                                <p><strong>Solution:</strong> Check port availability and dependencies:</p>
                                <div class="code-block">
                                    <pre><code># Check if port 5002 is available
netstat -an | grep 5002

# Try different port
python app.py --port 8080</code></pre>
                                </div>
                            </div>

                            <h3>Performance Optimization</h3>
                            
                            <div class="optimization-tips">
                                <div class="tip">
                                    <h4><i class="fas fa-lightbulb"></i> Use SSD Storage</h4>
                                    <p>Solid state drives significantly improve blockchain data access times</p>
                                </div>
                                <div class="tip">
                                    <h4><i class="fas fa-lightbulb"></i> Adjust Mining Difficulty</h4>
                                    <p>Lower HASH_DIFFICULTY for faster block generation during development</p>
                                </div>
                                <div class="tip">
                                    <h4><i class="fas fa-lightbulb"></i> Limit Simulation Rounds</h4>
                                    <p>Start with smaller SIMULATE_ROUND values for testing</p>
                                </div>
                                <div class="tip">
                                    <h4><i class="fas fa-lightbulb"></i> Monitor System Resources</h4>
                                    <p>Keep an eye on CPU and memory usage during simulations</p>
                                </div>
                            </div>

                            <h3>Getting Help</h3>
                            <p>If you encounter issues not covered here:</p>
                            <ul>
                                <li>Check the <a href="https://github.com/Re20Cboy/Ezchain-py/issues" target="_blank">GitHub Issues</a></li>
                                <li>Review the <a href="https://arxiv.org/abs/2312.00281" target="_blank">research paper</a> for technical details</li>
                                <li>Experiment with the <a href="demo.html">live demo</a> to understand expected behavior</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Ezchain</h3>
                    <p>A decentralized scale-out blockchain ledger system for Web3.0</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="features.html">Features</a></li>
                        <li><a href="architecture.html">Architecture</a></li>
                        <li><a href="documentation.html">Documentation</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Resources</h3>
                    <ul>
                        <li><a href="https://github.com/Re20Cboy/Ezchain-py" target="_blank">GitHub Repository</a></li>
                        <li><a href="https://arxiv.org/abs/2312.00281" target="_blank">arXiv Paper</a></li>
                        <li><a href="demo.html">Live Demo</a></li>
                        <li><a href="documentation.html">API Documentation</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Ezchain. All rights reserved. | Open source project under MIT License</p>
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="static/js/script.js"></script>
</body>
</html>